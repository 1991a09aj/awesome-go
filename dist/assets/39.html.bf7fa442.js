import{_ as d,r,o as s,c as l,a as e,b as i,w as o,e as c,d as a}from"./app.005d7ba9.js";const u={},h=c(`<h1 id="_1-kafka\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#_1-kafka\u4ECB\u7ECD" aria-hidden="true">#</a> 1. Kafka\u4ECB\u7ECD</h1><h3 id="_1-1-1-kafka\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1-1-1-kafka\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1.1.1. Kafka\u662F\u4EC0\u4E48</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    kafka\u4F7F\u7528scala\u5F00\u53D1\uFF0C\u652F\u6301\u591A\u8BED\u8A00\u5BA2\u6237\u7AEF\uFF08c++\u3001java\u3001python\u3001go\u7B49\uFF09
    Kafka\u6700\u5148\u7531LinkedIn\u516C\u53F8\u5F00\u53D1\uFF0C\u4E4B\u540E\u6210\u4E3AApache\u7684\u9876\u7EA7\u9879\u76EE\u3002
    Kafka\u662F\u4E00\u4E2A\u5206\u5E03\u5F0F\u7684\u3001\u5206\u533A\u5316\u3001\u53EF\u590D\u5236\u63D0\u4EA4\u7684\u65E5\u5FD7\u670D\u52A1
    LinkedIn\u4F7F\u7528Kafka\u5B9E\u73B0\u4E86\u516C\u53F8\u4E0D\u540C\u5E94\u7528\u7A0B\u5E8F\u4E4B\u95F4\u7684\u677E\u8026\u548C\uFF0C\u90A3\u4E48\u4F5C\u4E3A\u4E00\u4E2A\u53EF\u6269\u5C55\u3001\u9AD8\u53EF\u9760\u7684\u6D88\u606F\u7CFB\u7EDF
    \u652F\u6301\u9AD8Throughput\u7684\u5E94\u7528
    scale out\uFF1A\u65E0\u9700\u505C\u673A\u5373\u53EF\u6269\u5C55\u673A\u5668
    \u6301\u4E45\u5316\uFF1A\u901A\u8FC7\u5C06\u6570\u636E\u6301\u4E45\u5316\u5230\u786C\u76D8\u4EE5\u53CAreplication\u9632\u6B62\u6570\u636E\u4E22\u5931
    \u652F\u6301online\u548Coffline\u7684\u573A\u666F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-2-kafka\u7684\u7279\u70B9" tabindex="-1"><a class="header-anchor" href="#_1-1-2-kafka\u7684\u7279\u70B9" aria-hidden="true">#</a> 1.1.2. Kafka\u7684\u7279\u70B9</h3><p>Kafka\u662F\u5206\u5E03\u5F0F\u7684\uFF0C\u5176\u6240\u6709\u7684\u6784\u4EF6borker(\u670D\u52A1\u7AEF\u96C6\u7FA4)\u3001producer(\u6D88\u606F\u751F\u4EA7)\u3001consumer(\u6D88\u606F\u6D88\u8D39\u8005)\u90FD\u53EF\u4EE5\u662F\u5206\u5E03\u5F0F\u7684\u3002</p><p>\u5728\u6D88\u606F\u7684\u751F\u4EA7\u65F6\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E2A\u6807\u8BC6topic\u6765\u533A\u5206\uFF0C\u4E14\u53EF\u4EE5\u8FDB\u884C\u5206\u533A\uFF1B\u6BCF\u4E00\u4E2A\u5206\u533A\u90FD\u662F\u4E00\u4E2A\u987A\u5E8F\u7684\u3001\u4E0D\u53EF\u53D8\u7684\u6D88\u606F\u961F\u5217\uFF0C \u5E76\u4E14\u53EF\u4EE5\u6301\u7EED\u7684\u6DFB\u52A0\u3002</p><p>\u540C\u65F6\u4E3A\u53D1\u5E03\u548C\u8BA2\u9605\u63D0\u4F9B\u9AD8\u541E\u5410\u91CF\u3002\u636E\u4E86\u89E3\uFF0CKafka\u6BCF\u79D2\u53EF\u4EE5\u751F\u4EA7\u7EA625\u4E07\u6D88\u606F\uFF0850 MB\uFF09\uFF0C\u6BCF\u79D2\u5904\u740655\u4E07\u6D88\u606F\uFF08110 MB\uFF09\u3002</p><p>\u6D88\u606F\u88AB\u5904\u7406\u7684\u72B6\u6001\u662F\u5728consumer\u7AEF\u7EF4\u62A4\uFF0C\u800C\u4E0D\u662F\u7531server\u7AEF\u7EF4\u62A4\u3002\u5F53\u5931\u8D25\u65F6\u80FD\u81EA\u52A8\u5E73\u8861</p><h3 id="_1-1-3-\u5E38\u7528\u7684\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_1-1-3-\u5E38\u7528\u7684\u573A\u666F" aria-hidden="true">#</a> 1.1.3. \u5E38\u7528\u7684\u573A\u666F</h3><p>\u76D1\u63A7\uFF1A\u4E3B\u673A\u901A\u8FC7Kafka\u53D1\u9001\u4E0E\u7CFB\u7EDF\u548C\u5E94\u7528\u7A0B\u5E8F\u5065\u5EB7\u76F8\u5173\u7684\u6307\u6807\uFF0C\u7136\u540E\u8FD9\u4E9B\u4FE1\u606F\u4F1A\u88AB\u6536\u96C6\u548C\u5904\u7406\u4ECE\u800C\u521B\u5EFA\u76D1\u63A7\u4EEA\u8868\u76D8\u5E76\u53D1\u9001\u8B66\u544A\u3002</p><p>\u6D88\u606F\u961F\u5217\uFF1A \u5E94\u7528\u7A0B\u5EA6\u4F7F\u7528Kafka\u4F5C\u4E3A\u4F20\u7EDF\u7684\u6D88\u606F\u7CFB\u7EDF\u5B9E\u73B0\u6807\u51C6\u7684\u961F\u5217\u548C\u6D88\u606F\u7684\u53D1\u5E03\u2014\u8BA2\u9605\uFF0C\u4F8B\u5982\u641C\u7D22\u548C\u5185\u5BB9\u63D0\u8981\uFF08Content Feed\uFF09\u3002\u6BD4\u8D77\u5927\u591A\u6570\u7684\u6D88\u606F\u7CFB\u7EDF\u6765\u8BF4\uFF0CKafka\u6709\u66F4\u597D\u7684\u541E\u5410\u91CF\uFF0C\u5185\u7F6E\u7684\u5206\u533A\uFF0C\u5197\u4F59\u53CA\u5BB9\u9519\u6027\uFF0C\u8FD9\u8BA9Kafka\u6210\u4E3A\u4E86\u4E00\u4E2A\u5F88\u597D\u7684\u5927\u89C4\u6A21\u6D88\u606F\u5904\u7406\u5E94\u7528\u7684\u89E3\u51B3\u65B9\u6848\u3002\u6D88\u606F\u7CFB\u7EDF \u4E00\u822C\u541E\u5410\u91CF\u76F8\u5BF9\u8F83\u4F4E\uFF0C\u4F46\u662F\u9700\u8981\u66F4\u5C0F\u7684\u7AEF\u5230\u7AEF\u5EF6\u65F6\uFF0C\u5E76\u5C1D\u5C1D\u4F9D\u8D56\u4E8EKafka\u63D0\u4F9B\u7684\u5F3A\u5927\u7684\u6301\u4E45\u6027\u4FDD\u969C\u3002\u5728\u8FD9\u4E2A\u9886\u57DF\uFF0CKafka\u8DB3\u4EE5\u5AB2\u7F8E\u4F20\u7EDF\u6D88\u606F\u7CFB\u7EDF\uFF0C\u5982ActiveMR\u6216RabbitMQ</p><p>\u7AD9\u70B9\u7684\u7528\u6237\u6D3B\u52A8\u8FFD\u8E2A: \u4E3A\u4E86\u66F4\u597D\u5730\u7406\u89E3\u7528\u6237\u884C\u4E3A\uFF0C\u6539\u5584\u7528\u6237\u4F53\u9A8C\uFF0C\u5C06\u7528\u6237\u67E5\u770B\u4E86\u54EA\u4E2A\u9875\u9762\u3001\u70B9\u51FB\u4E86\u54EA\u4E9B\u5185\u5BB9\u7B49\u4FE1\u606F\u53D1\u9001\u5230\u6BCF\u4E2A\u6570\u636E\u4E2D\u5FC3\u7684Kafka\u96C6\u7FA4\u4E0A\uFF0C\u5E76\u901A\u8FC7Hadoop\u8FDB\u884C\u5206\u6790\u3001\u751F\u6210\u65E5\u5E38\u62A5\u544A\u3002</p><p>\u6D41\u5904\u7406\uFF1A\u4FDD\u5B58\u6536\u96C6\u6D41\u6570\u636E\uFF0C\u4EE5\u63D0\u4F9B\u4E4B\u540E\u5BF9\u63A5\u7684Storm\u6216\u5176\u4ED6\u6D41\u5F0F\u8BA1\u7B97\u6846\u67B6\u8FDB\u884C\u5904\u7406\u3002\u5F88\u591A\u7528\u6237\u4F1A\u5C06\u90A3\u4E9B\u4ECE\u539F\u59CBtopic\u6765\u7684\u6570\u636E\u8FDB\u884C \u9636\u6BB5\u6027\u5904\u7406\uFF0C\u6C47\u603B\uFF0C\u6269\u5145\u6216\u8005\u4EE5\u5176\u4ED6\u7684\u65B9\u5F0F\u8F6C\u6362\u5230\u65B0\u7684topic\u4E0B\u518D\u7EE7\u7EED\u540E\u9762\u7684\u5904\u7406\u3002\u4F8B\u5982\u4E00\u4E2A\u6587\u7AE0\u63A8\u8350\u7684\u5904\u7406\u6D41\u7A0B\uFF0C\u53EF\u80FD\u662F\u5148\u4ECERSS\u6570\u636E\u6E90\u4E2D\u6293\u53D6\u6587\u7AE0\u7684\u5185 \u5BB9\uFF0C\u7136\u540E\u5C06\u5176\u4E22\u5165\u4E00\u4E2A\u53EB\u505A\u201C\u6587\u7AE0\u201D\u7684topic\u4E2D\uFF1B\u540E\u7EED\u64CD\u4F5C\u53EF\u80FD\u662F\u9700\u8981\u5BF9\u8FD9\u4E2A\u5185\u5BB9\u8FDB\u884C\u6E05\u7406\uFF0C\u6BD4\u5982\u56DE\u590D\u6B63\u5E38\u6570\u636E\u6216\u8005\u5220\u9664\u91CD\u590D\u6570\u636E\uFF0C\u6700\u540E\u518D\u5C06\u5185\u5BB9\u5339\u914D\u7684\u7ED3\u679C\u8FD4 \u8FD8\u7ED9\u7528\u6237\u3002\u8FD9\u5C31\u5728\u4E00\u4E2A\u72EC\u7ACB\u7684topic\u4E4B\u5916\uFF0C\u4EA7\u751F\u4E86\u4E00\u7CFB\u5217\u7684\u5B9E\u65F6\u6570\u636E\u5904\u7406\u7684\u6D41\u7A0B\u3002</p><p>\u65E5\u5FD7\u805A\u5408:\u4F7F\u7528Kafka\u4EE3\u66FF\u65E5\u5FD7\u805A\u5408\uFF08log aggregation\uFF09\u3002\u65E5\u5FD7\u805A\u5408\u4E00\u822C\u6765\u8BF4\u662F\u4ECE\u670D\u52A1\u5668\u4E0A\u6536\u96C6\u65E5\u5FD7\u6587\u4EF6\uFF0C\u7136\u540E\u653E\u5230\u4E00\u4E2A\u96C6\u4E2D\u7684\u4F4D\u7F6E\uFF08\u6587\u4EF6\u670D\u52A1\u5668\u6216HDFS\uFF09\u8FDB\u884C\u5904\u7406\u3002\u7136\u800CKafka\u5FFD\u7565\u6389 \u6587\u4EF6\u7684\u7EC6\u8282\uFF0C\u5C06\u5176\u66F4\u6E05\u6670\u5730\u62BD\u8C61\u6210\u4E00\u4E2A\u4E2A\u65E5\u5FD7\u6216\u4E8B\u4EF6\u7684\u6D88\u606F\u6D41\u3002\u8FD9\u5C31\u8BA9Kafka\u5904\u7406\u8FC7\u7A0B\u5EF6\u8FDF\u66F4\u4F4E\uFF0C\u66F4\u5BB9\u6613\u652F\u6301\u591A\u6570\u636E\u6E90\u548C\u5206\u5E03\u5F0F\u6570\u636E\u5904\u7406\u3002\u6BD4\u8D77\u4EE5\u65E5\u5FD7\u4E3A\u4E2D\u5FC3\u7684 \u7CFB\u7EDF\u6BD4\u5982Scribe\u6216\u8005Flume\u6765\u8BF4\uFF0CKafka\u63D0\u4F9B\u540C\u6837\u9AD8\u6548\u7684\u6027\u80FD\u548C\u56E0\u4E3A\u590D\u5236\u5BFC\u81F4\u7684\u66F4\u9AD8\u7684\u8010\u7528\u6027\u4FDD\u8BC1\uFF0C\u4EE5\u53CA\u66F4\u4F4E\u7684\u7AEF\u5230\u7AEF\u5EF6\u8FDF</p><p>\u6301\u4E45\u6027\u65E5\u5FD7\uFF1AKafka\u53EF\u4EE5\u4E3A\u4E00\u79CD\u5916\u90E8\u7684\u6301\u4E45\u6027\u65E5\u5FD7\u7684\u5206\u5E03\u5F0F\u7CFB\u7EDF\u63D0\u4F9B\u670D\u52A1\u3002\u8FD9\u79CD\u65E5\u5FD7\u53EF\u4EE5\u5728\u8282\u70B9\u95F4\u5907\u4EFD\u6570\u636E\uFF0C\u5E76\u4E3A\u6545\u969C\u8282\u70B9\u6570\u636E\u56DE\u590D\u63D0\u4F9B\u4E00\u79CD\u91CD\u65B0\u540C\u6B65\u7684\u673A\u5236\u3002Kafka\u4E2D\u65E5\u5FD7\u538B\u7F29\u529F\u80FD\u4E3A\u8FD9\u79CD\u7528\u6CD5\u63D0\u4F9B\u4E86\u6761\u4EF6\u3002\u5728\u8FD9\u79CD\u7528\u6CD5\u4E2D\uFF0CKafka\u7C7B\u4F3C\u4E8EApache BookKeeper\u9879\u76EE\u3002</p><h3 id="_1-1-4-kafka\u4E2D\u5305\u542B\u4EE5\u4E0B\u57FA\u7840\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_1-1-4-kafka\u4E2D\u5305\u542B\u4EE5\u4E0B\u57FA\u7840\u6982\u5FF5" aria-hidden="true">#</a> 1.1.4. Kafka\u4E2D\u5305\u542B\u4EE5\u4E0B\u57FA\u7840\u6982\u5FF5</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    1.Topic(\u8BDD\u9898)\uFF1AKafka\u4E2D\u7528\u4E8E\u533A\u5206\u4E0D\u540C\u7C7B\u522B\u4FE1\u606F\u7684\u7C7B\u522B\u540D\u79F0\u3002\u7531producer\u6307\u5B9A
    2.Producer(\u751F\u4EA7\u8005)\uFF1A\u5C06\u6D88\u606F\u53D1\u5E03\u5230Kafka\u7279\u5B9A\u7684Topic\u7684\u5BF9\u8C61(\u8FC7\u7A0B)
    3.Consumers(\u6D88\u8D39\u8005)\uFF1A\u8BA2\u9605\u5E76\u5904\u7406\u7279\u5B9A\u7684Topic\u4E2D\u7684\u6D88\u606F\u7684\u5BF9\u8C61(\u8FC7\u7A0B)
    4.Broker(Kafka\u670D\u52A1\u96C6\u7FA4)\uFF1A\u5DF2\u53D1\u5E03\u7684\u6D88\u606F\u4FDD\u5B58\u5728\u4E00\u7EC4\u670D\u52A1\u5668\u4E2D\uFF0C\u79F0\u4E4B\u4E3AKafka\u96C6\u7FA4\u3002\u96C6\u7FA4\u4E2D\u7684\u6BCF\u4E00\u4E2A\u670D\u52A1\u5668\u90FD\u662F\u4E00\u4E2A\u4EE3\u7406(Broker). \u6D88\u8D39\u8005\u53EF\u4EE5\u8BA2\u9605\u4E00\u4E2A\u6216\u591A\u4E2A\u8BDD\u9898\uFF0C\u5E76\u4ECEBroker\u62C9\u6570\u636E\uFF0C\u4ECE\u800C\u6D88\u8D39\u8FD9\u4E9B\u5DF2\u53D1\u5E03\u7684\u6D88\u606F\u3002
    5.Partition(\u5206\u533A)\uFF1ATopic\u7269\u7406\u4E0A\u7684\u5206\u7EC4\uFF0C\u4E00\u4E2Atopic\u53EF\u4EE5\u5206\u4E3A\u591A\u4E2Apartition\uFF0C\u6BCF\u4E2Apartition\u662F\u4E00\u4E2A\u6709\u5E8F\u7684\u961F\u5217\u3002partition\u4E2D\u7684\u6BCF\u6761\u6D88\u606F\u90FD\u4F1A\u88AB\u5206\u914D\u4E00\u4E2A\u6709\u5E8F\u7684id\uFF08offset\uFF09
    Message\uFF1A\u6D88\u606F\uFF0C\u662F\u901A\u4FE1\u7684\u57FA\u672C\u5355\u4F4D\uFF0C\u6BCF\u4E2Aproducer\u53EF\u4EE5\u5411\u4E00\u4E2Atopic\uFF08\u4E3B\u9898\uFF09\u53D1\u5E03\u4E00\u4E9B\u6D88\u606F\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-5-\u6D88\u606F" tabindex="-1"><a class="header-anchor" href="#_1-1-5-\u6D88\u606F" aria-hidden="true">#</a> 1.1.5. \u6D88\u606F</h3><p>\u6D88\u606F\u7531\u4E00\u4E2A\u56FA\u5B9A\u5927\u5C0F\u7684\u62A5\u5934\u548C\u53EF\u53D8\u957F\u5EA6\u4F46\u4E0D\u900F\u660E\u7684\u5B57\u8282\u9635\u5217\u8D1F\u8F7D\u3002\u62A5\u5934\u5305\u542B\u683C\u5F0F\u7248\u672C\u548CCRC32\u6548\u9A8C\u548C\u4EE5\u68C0\u6D4B\u635F\u574F\u6216\u622A\u65AD</p><h3 id="_1-1-6-\u6D88\u606F\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-1-6-\u6D88\u606F\u683C\u5F0F" aria-hidden="true">#</a> 1.1.6. \u6D88\u606F\u683C\u5F0F</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>    1. 4 byte CRC32 of the message
    2. 1 byte &quot;magic&quot; identifier to allow format changes, value is 0 or 1
    3. 1 byte &quot;attributes&quot; identifier to allow annotations on the message independent of the version
       bit 0 ~ 2 : Compression codec
           0 : no compression
           1 : gzip
           2 : snappy
           3 : lz4
       bit 3 : Timestamp type
           0 : create time
           1 : log append time
       bit 4 ~ 7 : reserved
    4. (\u53EF\u9009) 8 byte timestamp only if &quot;magic&quot; identifier is greater than 0
    5. 4 byte key length, containing length K
    6. K byte key
    7. 4 byte payload length, containing length V
    8. V byte payload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="end-\u94FE\u63A5" tabindex="-1"><a class="header-anchor" href="#end-\u94FE\u63A5" aria-hidden="true">#</a> END \u94FE\u63A5</h2><ul><li><div><a href="38.md" style="float:left;">\u2B06\uFE0F\u4E0A\u4E00\u8282\u{1F517}</a><a href="40.md" style="float:right;">\u2B07\uFE0F\u4E0B\u4E00\u8282\u{1F517}</a></div></li></ul>`,23),v=a("\u24C2\uFE0F\u56DE\u5230\u9996\u9875\u{1F3E0}"),p={href:"https://nsddd.top/archives/contributors",target:"_blank",rel:"noopener noreferrer"},f=e("strong",null,"\u{1FAF5}\u53C2\u4E0E\u8D21\u732E\u{1F49E}\u2764\uFE0F\u200D\u{1F525}\u{1F496}",-1),m=a(")"),b=a("\u2734\uFE0F\u7248\u6743\u58F0\u660E \xA9 :\u672C\u4E66\u6240\u6709\u5185\u5BB9\u9075\u5FAA"),k={href:"http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC",target:"_blank",rel:"noopener noreferrer"},_=a("CC-BY-SA 3.0\u534F\u8BAE\uFF08\u7F72\u540D-\u76F8\u540C\u65B9\u5F0F\u5171\u4EAB\uFF09\xA9");function g(K,x){const t=r("RouterLink"),n=r("ExternalLinkIcon");return s(),l("div",null,[h,e("ul",null,[e("li",null,[e("p",null,[i(t,{to:"/Gomd_super/"},{default:o(()=>[v]),_:1})])]),e("li",null,[e("p",null,[e("a",p,[f,i(n)]),m])]),e("li",null,[e("p",null,[b,e("a",k,[_,i(n)])])])])])}const C=d(u,[["render",g],["__file","39.html.vue"]]);export{C as default};
