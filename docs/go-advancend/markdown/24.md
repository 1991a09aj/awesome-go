+ [author](https://github.com/3293172751)

# 第24节 SOCKS5 代理（调用第三方API案例）

+ [回到目录](../README.md)
+ [上一节](23.md)
> ❤️💕💕Go语言高级篇章,在此之前建议您先了解基础和进阶篇。Myblog:[http://nsddd.top](http://nsddd.top/)
###  **[Go语言基础篇](https://github.com/3293172751/Block_Chain/blob/master/TOC.md)**
###  **[Go语言100篇进阶](https://github.com/3293172751/Block_Chain/blob/master/Gomd_super/README.md)**
---
[TOC]

## Clash介绍

+ [clash 项目地址](https://github.com/Dreamacro/clash)

**特点：**

+ 支持身份验证的本地HTTP/HTTPS/SOCKS服务器
+ Shadowsocks（R）、VMess、特洛伊木马、Snell、SOCKS5、HTTP（S）出站支持
+ 内置 [伪ip](https://www.rfc-editor.org/rfc/rfc3089)DNS服务器，旨在最大限度地减少DNS污染攻击的影响。支持DoH/DoT上游。
+ 基于域、GEOIP、IP-CIDR或进程名称的规则将数据包路由到不同的目的地
+ 代理组允许用户实施强大的规则。支持自动回退、负载平衡或基于延迟自动选择代理
+ 远程提供程序，允许用户远程获取代理列表，而不是在配置中硬编码
+ 透明代理：使用自动路由表/规则管理重定向TCP和TProxy TCP/UDP
+ 通过全面的HTTP RESTful API控制器进行热重新加载



## 原理介绍

SOCKS5是用于通过代理服务器安全地路由网络流量的协议。它通常用于绕过网络限制和访问被阻止的网站。SOCKS5为SOCKS协议添加了额外的功能，例如验证用户身份的能力以及对TCP和UDP流量的支持。SOCKS5代理服务器充当客户端和目标服务器之间的中间人，在它们之间转发流量，同时隐藏客户端的IP地址。这允许客户端访问目标服务器上的资源，就好像它们位于同一网络上一样。

![image-20230114164536220](http://sm.nsddd.top/sm202301141645441.png)



## 第一步，一个简单的链接

```go
package main

import (
	"bufio"
	"log"
	"net"
)

func main() {
	server, err := net.Listen("tcp", "127.0.0.1:1080")
	if err != nil {
		panic(err)
	}
	for {
		client, err := server.Accept()
		if err != nil {
			log.Printf("Accept failed %v", err)
			continue
		}
		go process(client)
	}
}

func process(conn net.Conn) {
	defer conn.Close()
	reader := bufio.NewReader(conn)
	for {
		b, err := reader.ReadByte()
		if err != nil {
			break
		}
		_, err = conn.Write([]byte{b})
		if err != nil {
			break
		}
	}
}

```



## END 链接

+ [回到目录](../README.md)
+ [上一节](23.md)
+ [下一节](25.md)
---
+ [参与贡献❤️💕💕](https://github.com/3293172751/Block_Chain/blob/master/Git/git-contributor.md)