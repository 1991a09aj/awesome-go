# gin框架一套解决

[[toc]]

[toc]

## 介绍

- Gin是一个golang的微框架，封装比较优雅，API友好，源码注释比较明确，具有快速灵活，容错方便等特点
- 对于golang而言，web框架的依赖要远比Python，Java之类的要小。自身的`net/http`足够简单，性能也非常不错
- 借助框架开发，不仅可以省去很多常用的封装带来的时间，也有助于团队的编码风格和形成规范



## 要求

+ Go 1.13 及以上版本

## 安装

要安装 Gin 软件包，需要先安装 Go 并设置 Go 工作区。

**1.下载并安装 gin：**

```sh
$ go get -u github.com/gin-gonic/gin
```

> 💡 补充**get**参数：
>
> | 附加参数  | 备  注                                 |
> | --------- | -------------------------------------- |
> | -v        | 显示操作流程的日志及信息，方便检查错误 |
> | -u        | 下载丢失的包，但不会更新已经存在的包   |
> | -d        | 只下载，不安装                         |
> | -insecure | 允许使用不安全的 HTTP 方式进行下载操作 |

**2.将 gin 引入到代码中：**

```go
import "github.com/gin-gonic/gin"
```

**3.（可选）如果使用诸如 `http.StatusOK` 之类的常量，则需要引入 `net/http` 包：**

```go
import "net/http"
```

**4.创建你的项目文件夹并 `cd` 进去**

> 如果是用的`mod`包，那么并不需要

```sh
$ mkdir -p $GOPATH/src/github.com/myusername/project && cd "$_"
```

**5.拷贝一个初始模板到你的项目里**

```sh
$ curl https://raw.githubusercontent.com/gin-gonic/examples/master/basic/main.go > main.go
```

> 网络不行可以直接访问 [这里](https://raw.githubusercontent.com/gin-gonic/examples/master/basic/main.go)复制到`main.go`

**6.运行你的项目**

```sh
$ go run main.go
```

> 最后访问即可：
>
> ![image-20221013225622549](http://sm.nsddd.top/smimage-20221013225622549.png?xxw@nsddd.top)



## 开始

> 不确定如何编写和执行 Go 代码? [点击这里](https://go.nsddd.top).

首先，创建一个名为 `example.go` 的文件

```sh
$ touch example.go
```

接下来, 将如下的代码写入 `example.go` 中：

```go
package main

import "github.com/gin-gonic/gin"

func main() {
	r := gin.Default()
	r.GET("/ping", func(c *gin.Context) {
		c.JSON(200, gin.H{
			"message": "pong",
		})
	})
	r.Run() // 监听并在 0.0.0.0:8080 上启动服务
}
```

然后, 执行 `go run example.go` 命令来运行代码：

```sh
# 运行 example.go 并且在浏览器中访问 HOST_IP:8080/ping
$ go run example.go
```

🚀 编译结果如下：

![image-20221013225920708](http://sm.nsddd.top/smimage-20221013225920708.png?xxw@nsddd.top)

##  hello word

```go
package main

import (
    "net/http"

    "github.com/gin-gonic/gin"
)

func main() {
    // 1.创建路由
   r := gin.Default()
   // 2.绑定路由规则，执行的函数
   // gin.Context，封装了request和response
   r.GET("/", func(c *gin.Context) {
      c.String(http.StatusOK, "hello World!")
   })
   // 3.监听端口，默认在8080
   // Run("里面不指定端口号默认为8080") 
   r.Run(":8000")
}
```

![image-20221013230032119](http://sm.nsddd.top/smimage-20221013230032119.png?xxw@nsddd.top)

## gin框架采用的路由库

- gin 框架中采用的路由库是基于httprouter做的
- 地址为：https://github.com/julienschmidt/httprouter

```go
package main

import (
    "net/http"

    "github.com/gin-gonic/gin"
)

func main() {
    r := gin.Default()
    r.GET("/", func(c *gin.Context) {
        c.String(http.StatusOK, "hello word")
    })
    r.POST("/xxxpost",getting)
    r.PUT("/xxxput")
    //监听端口默认为8080
    r.Run(":8000")
}
```



## END 链接
<ul><li><div><a href = '71.md' style='float:left'>⬆️上一节🔗</a><a href = '73.md' style='float: right'>⬇️下一节🔗</a></div></li></ul>

+ [Ⓜ️回到首页🏠](../README.md)

+ [**🫵参与贡献💞❤️‍🔥💖**](https://nsddd.top/archives/contributors))

+ ✴️版权声明 &copy; :本书所有内容遵循[CC-BY-SA 3.0协议（署名-相同方式共享）&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0协议文本) 

